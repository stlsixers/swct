- unless smart_listing.empty?
	- Category.all.each do |c|
		%h4= c.title
		%table.table.table-bordered.table-hover
			%thead
				%th Machine/Device #
				%th Quantity
				%th Edit Inventory
				%th Add +1
				%th Remove -1
				%th Swap
				%th Delete Inventory

			%tbody
				- smart_listing.collection.each do |i|
					- if c.id == i.category
						%tr
							- @query = Inventory.where(:machine_id => i.id).where(:card_id => @card.id).take
							- q = @query.quantity+1
							- nq = @query.quantity-1
							%td= link_to " #" + i.number.to_s, machine_cards_path(i)
							%td= @query.quantity
							%td= link_to 'Edit Inventory', edit_inventory_path(@query), class: 'btn btn-success'
							%td= link_to '<i class="fa fa-plus-circle fa-2x"></i>'.html_safe, inventory_path(@query, :machine_id => i.id, :card_id => @card.id, :quantity => q, :status => 'add'), :method => :put
							%td= link_to '<i class="fa fa-minus-circle fa-2x"></i>'.html_safe, inventory_path(@query, :machine_id => i.id, :card_id => @card.id, :quantity => nq, :status => 'subtract'), :method => :put
							%td= link_to 'Swap', swap_path(:card_id => @card.id, :machine_id => i.id, :id => @query.id), class: 'btn btn-success'
							%td= link_to 'Delete Inventory',  inventory_path(@query),  method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger'
- else
	%p
		%i.fa.fa-exclamation-triangle
		%strong No Inventory Listed for this Card!